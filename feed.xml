<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="ja"><generator uri="https://jekyllrb.com/" version="3.8.3">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" hreflang="ja" /><updated>2018-10-06T03:49:42+09:00</updated><id>/</id><title type="html">SilBar Page</title><subtitle>マビノギとかいうMMORPGについてなんか検証とかしたこととかあったら書きます。   情報の正しさは一切保証しません。</subtitle><entry><title type="html">黒薔薇の奴隷タイトル　取得の旅　その１</title><link href="/mabinogi/2018/08/06/dorei_1.html" rel="alternate" type="text/html" title="黒薔薇の奴隷タイトル　取得の旅　その１" /><published>2018-08-06T00:00:00+09:00</published><updated>2018-08-06T00:00:00+09:00</updated><id>/mabinogi/2018/08/06/dorei_1</id><content type="html" xml:base="/mabinogi/2018/08/06/dorei_1.html">&lt;p&gt;全然まとまってないけど、記録がてら書きます。&lt;/p&gt;

&lt;h2 id=&quot;結論&quot;&gt;結論&lt;/h2&gt;
&lt;p&gt;3人PTで奴隷ブートキャンプにいき、&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;私は危機脱出マスターを取得できました&lt;/li&gt;
  &lt;li&gt;PTメンバーの1人が奴隷タイトル取得できました&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;取得条件は謎のままだが、一旦、下記の２パターンが浮上。&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;クイーンの攻撃（多分魔法以外）で戦闘不能になる時に一定確率で入手&lt;/li&gt;
  &lt;li&gt;クイーンの攻撃（多分魔法以外）であるダメージ以上(1,000とか)を食い戦闘不能になる
    &lt;ul&gt;
      &lt;li&gt;(追記1)この線は消えました。スマッシュでノンクリ11,120、クリ27kを食い戦闘不能になったが取得できず。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;(追記1)シンプルに、クイーンの攻撃で戦闘不能になったら一定確率で取得なのではなかろうか。&lt;br /&gt;
他に条件があったとしても、魅惑の炎3段階の状態で、とかその程度。&lt;/p&gt;

&lt;h2 id=&quot;取得した人の状況&quot;&gt;取得した人の状況&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;魅惑の炎の段階は不明&lt;/li&gt;
  &lt;li&gt;取得時に食らった攻撃は、別の人の誘惑攻撃で30アタック失敗時のペナルティ攻撃をクリティカルで
    &lt;ul&gt;
      &lt;li&gt;ダメージ量は1000オーバーとか（不確か）&lt;/li&gt;
      &lt;li&gt;その攻撃で戦闘不能になった（デッドリー状態から戦闘不能になったかどうかは不明）&lt;/li&gt;
      &lt;li&gt;(追記1)ペナルティ攻撃は最大体力の半分固定でクリなし疑惑が濃厚。自分のペナルティ10回以上受けてクリでなかった。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;奴隷ブートキャンプでの立ち回り実践した立ち回り&quot;&gt;奴隷ブートキャンプでの立ち回り（実践した立ち回り）&lt;/h2&gt;
&lt;p&gt;作り出したい状況は、クイーンからの攻撃を確実にもらえる状況。&lt;br /&gt;
なので取り巻きを足止めする役＋奴隷懇願しに突撃する役を作り、残りはフェニ羽役。&lt;/p&gt;

&lt;h3 id=&quot;基本的な流れ&quot;&gt;基本的な流れ&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;最初の咆哮が来る前に50回ブリュで保護削り入れる&lt;/li&gt;
  &lt;li&gt;咆哮を1回やり過ごし、ブートキャンプ開始&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;保護削り入れるのは、誘惑攻撃して来る90%ラインまで削ることと、誘惑攻撃阻止失敗で回復した時にまた削りやすくすること。&lt;br /&gt;
あと、いざクイーンを倒すぞって時にそこから保護削りの体制整えるの結構大変なので。&lt;/p&gt;

&lt;h3 id=&quot;足止め役の立ち回り&quot;&gt;足止め役の立ち回り&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;咆哮直後、リンク。直後じゃないと咆哮CTとリンクのCTがかみ合わなくなりグダる原因になる。&lt;/li&gt;
  &lt;li&gt;リンク後、危機脱出、即解除をし、取り巻きを呼び寄せる。（最遠タゲAIなのでこれでタゲられる）&lt;/li&gt;
  &lt;li&gt;近寄ってきたベビーにサンドバーストをかけ回る。ファントムには砂かけしません。&lt;/li&gt;
  &lt;li&gt;(任意)ベビーを３体まで減らすとサンバが楽になる&lt;/li&gt;
  &lt;li&gt;(任意)サンバ完了したら突撃役にタゲ切りを促す（突撃役にクイーンのタゲ行かせるため）&lt;/li&gt;
  &lt;li&gt;咆哮時間になったら適当に逃げて咆哮やり過ごし、1.からまたやる&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;これが一番安定しました。サンバはカンスト精霊タイダル＋失明最小時間19で、サンバマスターとかのタイトルはなしでやってました。&lt;br /&gt;
最初はリンク＆サンバではなく、誘惑で集めてペットで硬直させ続けるのを試しましたが、結構ペットを高速で出してても咆哮吐かれちゃいました。&lt;/p&gt;

&lt;h3 id=&quot;突撃役の立ち回り&quot;&gt;突撃役の立ち回り&lt;/h3&gt;
&lt;p&gt;頑張ってクイーンの攻撃をもらうよう立ち回る。頑張れ。&lt;br /&gt;
スパイク打つとかいいタイミングでタゲ切りとかしてタゲもらったり、ドルカコンバージョンで体力減らしたりとか。&lt;br /&gt;
咆哮はちゃんと回避すると全滅のリスク減らせていいです。&lt;/p&gt;

&lt;h3 id=&quot;フェニ羽役の立ち回り&quot;&gt;フェニ羽役の立ち回り&lt;/h3&gt;
&lt;p&gt;全滅しないように立ち回ってください。&lt;br /&gt;
突撃役が死んだらすぐに蘇生しないと、突撃効率結構落ちます。咆哮のタイミングとかあるので。&lt;/p&gt;

&lt;h2 id=&quot;奴隷タイトル取得条件の考察&quot;&gt;奴隷タイトル取得条件の考察&lt;/h2&gt;
&lt;h3 id=&quot;食らって戦闘不能になった攻撃のng集&quot;&gt;食らって戦闘不能になった攻撃のNG集&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;他の人の誘惑30アタック失敗ペナルティアタック（クリティカル）
    &lt;ul&gt;
      &lt;li&gt;ダメージは700台だった気がする&lt;/li&gt;
      &lt;li&gt;(追記1)クリティカルが発生しない疑惑が浮上。クリティカルは見間違い？&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;自分への誘惑ペナルティ（クリティカル）
    &lt;ul&gt;
      &lt;li&gt;ダメージは781だった。（バーサーク＆裸で防御保護0状態）&lt;/li&gt;
      &lt;li&gt;(追記1)クリティカルが発生しない疑惑が浮上。クリティカルは見間違い？&lt;/li&gt;
      &lt;li&gt;(追記1)少なくとも10回以上は死んだ&lt;/li&gt;
      &lt;li&gt;(追記2)黒薔薇の主人をつけた状態で20回以上死んだ&lt;/li&gt;
      &lt;li&gt;(追記2)黒薔薇の主人をつけた状態で魅惑の炎3段階で誘惑ペナルティーで2回くらい死んだ
        &lt;ul&gt;
          &lt;li&gt;魅惑の炎3段階は、自分の分身が出ている30攻撃中にちゃんと3段階であることを確認してます。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;(追記2)黒薔薇の主人をつけてマナが0の状態で誘惑ペナルティーで3回くらい死んだ
        &lt;ul&gt;
          &lt;li&gt;魅惑の炎3段階も同時達成が1,2回あった&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;メテオ
    &lt;ul&gt;
      &lt;li&gt;ダメージとかクリティカルはあんま見てないけど1000は行っていない&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ふわっと飛んで火の玉出すやつ&lt;/li&gt;
  &lt;li&gt;蹴り&lt;/li&gt;
  &lt;li&gt;IS, TH&lt;/li&gt;
  &lt;li&gt;(追記1)スマッシュ（クリ/ノンクリ）
    &lt;ul&gt;
      &lt;li&gt;ノンクリで9k〜11k、クリで27kが出ました。合計10回くらい死んだ。&lt;/li&gt;
      &lt;li&gt;魅惑の炎なしでクリ、ノンクリ両方、デッドリーと非デッドリー両方からの戦闘不能&lt;/li&gt;
      &lt;li&gt;魅惑の炎３段階でノンクリ、非デッドリーからの戦闘不能&lt;/li&gt;
      &lt;li&gt;少なくとも10回以上はスマッシュで死んだ&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;考察&quot;&gt;考察&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;ある特定の攻撃を食らって戦闘不能になった、だけではない
    &lt;ul&gt;
      &lt;li&gt;誘惑ペナルティアタックで取れたり取れなかったりしたのでこれは確定&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;その追加条件は確率で取得とか食らったダメージ量かな？
    &lt;ul&gt;
      &lt;li&gt;ダメージ量なら誘惑30アタック成功後のスマッシュが有能説。スマッシュで取得できるかは不明&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;もしくは非デッドリーから戦闘不能になった、とか
    &lt;ul&gt;
      &lt;li&gt;スタpポがぶ飲み有能説&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;(追記2)いろいろな死に方を試して見たけど、&lt;br /&gt;
やっぱり&lt;code class=&quot;highlighter-rouge&quot;&gt;クイーンの特定の攻撃(魔法以外？)を食らって戦闘不能になった時に一定の確率で取得&lt;/code&gt;&lt;br /&gt;
というのが一番しっくりきます。&lt;br /&gt;
魅惑の炎3段階もおそらく条件に含まれてないんじゃないんですかね。&lt;br /&gt;
3段階の報告が多いのは、誘惑ペナルティーで一気に3段階になって、起こしてもらってから状況確認して3段階でした、&lt;br /&gt;
とか、クイーンの攻撃で死ぬのが結構泥沼な状況に陥ってることが多いからたまたまいっぱいクイーンの攻撃食らってました、とか。&lt;br /&gt;
実際クイーンの攻撃で死ぬことってあまりないです。&lt;br /&gt;
大体クイーンが蹴りとかしてきて身動きが取れなくなったところをベビサキュにはめ殺しにされるとか。&lt;/p&gt;

&lt;h3 id=&quot;追記1よくある説ありえそうな説について&quot;&gt;(追記1)よくある説、ありえそうな説について&lt;/h3&gt;
&lt;p&gt;違うよな（＝必要十分条件ではない）、という話しかしません。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;魅惑の炎３段階になって蹴りで死ぬ
    &lt;ul&gt;
      &lt;li&gt;誘惑ペナでPTメンバーが確実に取れてるのでこれはない&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;誘惑の炎３段階になってクイーンの攻撃で死ぬ
    &lt;ul&gt;
      &lt;li&gt;３段階になってスマッシュ食らって取れなかったのでこれもない&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;1回のボス戦で死ぬ累積回数が関係（例：10回クイーンの攻撃で戦闘不能になったら取れる）
    &lt;ul&gt;
      &lt;li&gt;PTメンバーがたかだか10回程度の戦闘不能回数で取れており、私は30〜40回は死んで取れなかったのでこれもない&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;(追記2)黒薔薇の主人タイトルをつけてクイーンの攻撃で死ぬ
    &lt;ul&gt;
      &lt;li&gt;黒薔薇の主人タイトルで誘惑ペナルティー攻撃で20回くらいは死んだが取得できず&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;(追記2)マナが空の状態でクイーンの攻撃で死ぬ
    &lt;ul&gt;
      &lt;li&gt;マナが0の状態で誘惑ペナルティー攻撃で3回くらい死んだが取得できず&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ブートキャンプ立ち回り新案&quot;&gt;ブートキャンプ立ち回り新案&lt;/h2&gt;
&lt;p&gt;上で紹介したやり方は全滅のリスク高いので、誘惑攻撃に特化して考えてみた。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;保護削り&lt;/li&gt;
  &lt;li&gt;体力を50%以下にする&lt;/li&gt;
  &lt;li&gt;外周走り回ったりルドルフハイド繰り返したりで誘惑攻撃をまつ&lt;/li&gt;
  &lt;li&gt;誘惑がきたら、ドルカコンバージョンとかで体力調整をして死ぬ構え&lt;/li&gt;
  &lt;li&gt;攻撃を受けて死ぬ&lt;/li&gt;
  &lt;li&gt;全員即危機脱出等でタゲ切り、咆哮させない&lt;/li&gt;
  &lt;li&gt;いい感じにルドルフに乗り、フェニ羽し、また誘惑待ち&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ブーストきたらHP回復しちゃうけど、そこはいい感じにHP再調整してください。&lt;/p&gt;

&lt;h2 id=&quot;追記1ブートキャンプ立ち回り案エルフサブありソロ&quot;&gt;(追記1)ブートキャンプ立ち回り案（エルフサブありソロ）&lt;/h2&gt;
&lt;p&gt;実際にやって安定しました。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;保護削り&lt;/li&gt;
  &lt;li&gt;体力を50%以下にする（リンクしながら適当に攻撃食らえば安全です）&lt;/li&gt;
  &lt;li&gt;サブを南端に配置してハイド、メインは北側で誘惑を待ち受ける
    &lt;ul&gt;
      &lt;li&gt;ファントムを北側に誘導、サブが咆哮と誘惑ペナルティの射程外になる&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;スタポがぶ飲みしてデッドリー生存確率を下げる&lt;/li&gt;
  &lt;li&gt;攻撃を受けて死ぬ&lt;/li&gt;
  &lt;li&gt;サブがPT羽で蘇生&lt;/li&gt;
  &lt;li&gt;あとはいい感じに&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;別にサブでなくて別の人でもいいです。&lt;br /&gt;
突撃役だけ北側に、他の人は南で待機で大丈夫なんじゃないでしょうか！&lt;br /&gt;
メテオでたまに死ぬけど頑張ってリカバリして。&lt;/p&gt;</content><author><name></name></author><summary type="html">全然まとまってないけど、記録がてら書きます。</summary></entry><entry><title type="html">ShiruTimer ver.1.1.0リリース</title><link href="/mabinogi/2018/07/18/shirutimer_1.1.0.html" rel="alternate" type="text/html" title="ShiruTimer ver.1.1.0リリース" /><published>2018-07-18T00:00:00+09:00</published><updated>2018-07-18T00:00:00+09:00</updated><id>/mabinogi/2018/07/18/shirutimer_1.1.0</id><content type="html" xml:base="/mabinogi/2018/07/18/shirutimer_1.1.0.html">&lt;p&gt;毎回アップローダにあげて通知するのが面倒なので、リリース用のリポジトリを作りました。&lt;br /&gt;
あとで多分ソースコードも載せます。気が向いたら。&lt;br /&gt;
マビでの使用特化で仕様を考えてるので、別用途での使用には適さないかもしれないけど許して。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/SilBar-mabi/ShiruTimer/releases/download/v1.1.0/1.1.0.zip&quot;&gt;ShiruTimer ver.1.1.0&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;注意点&quot;&gt;注意点&lt;/h2&gt;
&lt;p&gt;過去バージョンとの設定ファイルの互換性はないです。
引き継ぎ方は２通りです。お好きな方を。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;ver.1.1.0で設定し直す&lt;/li&gt;
  &lt;li&gt;設定ファイルを手動でいじって頑張る
    &lt;ul&gt;
      &lt;li&gt;以前のバージョンの設定ファイル&lt;code class=&quot;highlighter-rouge&quot;&gt;Settings.yaml&lt;/code&gt;を開き、&lt;code class=&quot;highlighter-rouge&quot;&gt;JokyokuProfiles&lt;/code&gt;の項目をコピー、新バージョンの&lt;code class=&quot;highlighter-rouge&quot;&gt;Settings.yaml&lt;/code&gt;の同項目へ貼り付け
        &lt;ul&gt;
          &lt;li&gt;複数行あるはずです。&lt;code class=&quot;highlighter-rouge&quot;&gt;Name&lt;/code&gt;と&lt;code class=&quot;highlighter-rouge&quot;&gt;JokyokuTime&lt;/code&gt;の組が設定した分だけ。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;タイマーのショートカットキーを変更しているのなら、&lt;code class=&quot;highlighter-rouge&quot;&gt;JokyokuStartKey&lt;/code&gt;と&lt;code class=&quot;highlighter-rouge&quot;&gt;PhantomStartKey&lt;/code&gt;も同様に。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;変更点&quot;&gt;変更点&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;ストップウォッチ機能の追加
    &lt;ul&gt;
      &lt;li&gt;スタート→ストップした後に表示されているタイムをクリックしたらcsvに出力します&lt;/li&gt;
      &lt;li&gt;夢幻やアルビ、ルンダの計測時間、とかわかるようにcsv出力時にタグ付けしようかと思ったけど、検討中&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;各種タイマーの有効化・無効化を切り替えられる設定項目の追加&lt;/li&gt;
  &lt;li&gt;レイアウト変更
    &lt;ul&gt;
      &lt;li&gt;設定ボタンを１つにして上部に、停止ボタンをアイコンの左側に&lt;/li&gt;
      &lt;li&gt;デザインというかレイアウト？は気に入ってません。許して。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">毎回アップローダにあげて通知するのが面倒なので、リリース用のリポジトリを作りました。 あとで多分ソースコードも載せます。気が向いたら。 マビでの使用特化で仕様を考えてるので、別用途での使用には適さないかもしれないけど許して。</summary></entry><entry><title type="html">ギルガシワンパンの確率計算</title><link href="/mabinogi/2018/07/11/damage_probability.html" rel="alternate" type="text/html" title="ギルガシワンパンの確率計算" /><published>2018-07-11T00:00:00+09:00</published><updated>2018-07-11T00:00:00+09:00</updated><id>/mabinogi/2018/07/11/damage_probability</id><content type="html" xml:base="/mabinogi/2018/07/11/damage_probability.html">&lt;p&gt;ブレイド計算機にギルガシワンパンの確率を実装したので、計算方法とか考え方を忘れないうちに書いておきます。&lt;br /&gt;
前提知識として、正規分布、標準化がわかってればよくわかると思いますが、知らなくてもなんとなくわかるんじゃないですか（適当）。&lt;br /&gt;
本文中の正規分布のグラフは&lt;a href=&quot;https://keisan.casio.jp/exec/system/1161228881&quot;&gt;keisanサイト様&lt;/a&gt;の物を利用させてもらってます。&lt;/p&gt;

&lt;h1 id=&quot;ゴール&quot;&gt;ゴール&lt;/h1&gt;
&lt;p&gt;例えばダメージが100〜400の人がいて、200以上のダメージが出る確率はいくつですか、というのが導ければおっけー。&lt;br /&gt;
キャラスペックの欄の表示でも、実ダメージ計算後でも話は同じだと思う。多分。&lt;/p&gt;

&lt;h1 id=&quot;最小ダメ最大ダメバランスの関係&quot;&gt;最小ダメ、最大ダメ、バランスの関係&lt;/h1&gt;
&lt;p&gt;ざっくりとこんな感じ(バランス60くらいのグラフ)。&lt;br /&gt;
&lt;img src=&quot;/images/damage_prob/3_4d1000_cut2.png&quot; alt=&quot;最小、最大、バランスの関係&quot; /&gt;&lt;br /&gt;
バランスが高いほど、山の頂点が右のほうに行って、高いダメージが出る確率が高くなります。&lt;br /&gt;
縦軸はそのダメージが出る確率で、左グレーの箇所を引いた場合は最小ダメージに、右グレーの箇所を引いた場合には最大ダメージに丸められます。&lt;br /&gt;
つまり、最大を引く確率は右グレーの積分値であり、最大と最小の間のあるダメージ&lt;code class=&quot;highlighter-rouge&quot;&gt;A&lt;/code&gt;以上を引く確率は、この正規分布の&lt;code class=&quot;highlighter-rouge&quot;&gt;A&lt;/code&gt;から無限大までの積分値となります。&lt;br /&gt;
（積分値は簡単に行ったらグラフの面積です）&lt;/p&gt;

&lt;h1 id=&quot;具体的に考えよう&quot;&gt;具体的に考えよう&lt;/h1&gt;
&lt;p&gt;まずはwikiを見てみるとこんな計算式(あんま見なくていいよ)。&lt;br /&gt;
&lt;img src=&quot;/images/damage_prob/damage_wiki.png&quot; alt=&quot;wikiの計算式&quot; /&gt;&lt;br /&gt;
以下の説明はwikiの画像の番号と対応してるわけじゃないからね。説明の順序で番号振ってるだけ。&lt;/p&gt;

&lt;h2 id=&quot;1正規分布を擬似的に頑張って作る&quot;&gt;1.正規分布を擬似的に頑張って作る&lt;/h2&gt;
&lt;p&gt;rand使ってるのは方法論であって、目的は正規分布を作ること。それはダメージ分布を正規分布に従わせたいから。&lt;br /&gt;
&lt;img src=&quot;/images/damage_prob/1_4d1000.png&quot; alt=&quot;正規分布&quot; /&gt;&lt;br /&gt;
乱数1回だけ引くのじゃ横一直線のグラフで、全く山の形にならないけど、4回引いたのを足せば正規分布に結構従ってくれる。&lt;br /&gt;
0〜1000までの乱数を引くのは、それくらいの粒度で引けば十分に滑らかな擬似正規分布になるからなのだろう。&lt;/p&gt;

&lt;h2 id=&quot;2作った正規分布をバランスに従って切り取る&quot;&gt;2.作った正規分布をバランスに従って切り取る&lt;/h2&gt;
&lt;p&gt;バランスに従って幅2000の枠で切り取る。バランス60なら、枠の左から60%のところに頂点が来るように切り取る。&lt;br /&gt;
&lt;img src=&quot;/images/damage_prob/2_4d1000_cut.png&quot; alt=&quot;バランス切り取り&quot; /&gt;&lt;br /&gt;
正確にいうと、切り取るわけではなく仮想的な枠を作るだけ。枠外の確率が0になるわけではなく据え置き。&lt;/p&gt;

&lt;h2 id=&quot;3最大ダメと最小ダメに従ってグラフを伸長&quot;&gt;3.最大ダメと最小ダメに従ってグラフを伸長&lt;/h2&gt;
&lt;p&gt;別にダメージ計算でこれをやっているわけではないが、イメージを掴む上でこれを図示すると良い。
&lt;img src=&quot;/images/damage_prob/3_4d1000_cut2.png&quot; alt=&quot;グラフ伸長&quot; /&gt;&lt;br /&gt;
枠の左端が最小ダメに、右端が最大ダメになるように、グラフ全体を伸長する。グレーの部分もね。&lt;br /&gt;
最小100、最大400、バランス60の場合、下記のようになる。&lt;br /&gt;
&lt;img src=&quot;/images/damage_prob/4_4d1000_cut3.png&quot; alt=&quot;グラフ伸長の具体例&quot; /&gt;&lt;br /&gt;
頂点が280のところにあり、多分出やすいダメージトップ3は、400、100、280の順番かな？&lt;br /&gt;
一見280が一番出やすそうに見えるけど、280というピンポイントのダメージを引くより、400から右側を引く確率の方が高い。&lt;br /&gt;
400より右側を引くこともあるけど、ダメージは400に丸められるからね。&lt;/p&gt;

&lt;h2 id=&quot;4200以下のダメージを引く確率の図示&quot;&gt;4.200以下のダメージを引く確率の図示&lt;/h2&gt;
&lt;p&gt;ワンパン考えるなら「以下」じゃなくて「以上」だけど、1から200以下の確率を引けば200以上になるし、変わらんことです。&lt;br /&gt;
で、図示するとこんな感じ。&lt;br /&gt;
&lt;img src=&quot;/images/damage_prob/5_4d1000_cut4.png&quot; alt=&quot;200以下の確率&quot; /&gt;&lt;br /&gt;
このグラフのマイナス無限大から200までの区間で積分すれば、200以下のダメージを引く確率が出ます。&lt;br /&gt;
詳しくいうと、マイナス無限大から100までの積分で100以下のダメージを引く確率、100から200までの積分で100から200までのダメージを引く確率が出ます。&lt;br /&gt;
なので、枠外とか細かいこと気にせずマイナス無限大から200まで一気に積分しちゃえばいいんです。&lt;br /&gt;
本題に戻ると、200（出したいダメージ）が枠の左端からどれくらいの位置にあるかを計算します。&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;(200 - 100) / (400 - 100) = 1/3&lt;/code&gt;&lt;br /&gt;
となり、枠の左端から枠幅の1/3行ったところに所望の200があります。&lt;/p&gt;

&lt;h2 id=&quot;5伸長前のグラフで考える&quot;&gt;5.伸長前のグラフで考える&lt;/h2&gt;
&lt;p&gt;積分値を求める上で後々正規分布を標準化したいんだけど、伸長すると標準偏差が変わって計算し直さなきゃ行けなくて面倒。&lt;br /&gt;
なので、伸長前のグラフで考えます。伸長前ならwikiに標準偏差乗っけてくれてるからね！
&lt;img src=&quot;/images/damage_prob/6_4d1000_move.png&quot; alt=&quot;伸長前のグラフにマッピング&quot; /&gt;&lt;br /&gt;
で、さらにわかりやすいように、枠の左端が0に来るように左に移動してます。&lt;br /&gt;
具体的には、もともと頂点が2000だったところを、&lt;code class=&quot;highlighter-rouge&quot;&gt;2000 * バランス / 100&lt;/code&gt;になるように左移動してます。バランス60だと1200が頂点ですね。&lt;br /&gt;
で、前項でいう200は枠の左端から1/3のところにあったので、伸長前のグラフでいうと&lt;code class=&quot;highlighter-rouge&quot;&gt;2000 * 1/3 = 667&lt;/code&gt;になります。&lt;/p&gt;

&lt;h2 id=&quot;6標準化する&quot;&gt;6.標準化する&lt;/h2&gt;
&lt;p&gt;頂点（平均）が&lt;code class=&quot;highlighter-rouge&quot;&gt;2000 * バランス / 100&lt;/code&gt;、標準偏差が&lt;code class=&quot;highlighter-rouge&quot;&gt;578&lt;/code&gt;という情報を使って標準化します。&lt;br /&gt;
&lt;img src=&quot;/images/damage_prob/7_standardized.png&quot; alt=&quot;標準化&quot; /&gt;&lt;br /&gt;
標準化は&lt;code class=&quot;highlighter-rouge&quot;&gt;Z = (X - 平均) / 標準偏差&lt;/code&gt;という変数変換というか写像というかをすればできるので、つまりさっきの667という点は、&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;(667 - 2000 * 0.6) / 578 = -0.92&lt;/code&gt;&lt;br /&gt;
となり、-0.92になりました。&lt;br /&gt;
なので、200以下のダメージを引く確率は、標準正規分布におけるマイナス無限大から-0.92までの積分値、ということになります。&lt;/p&gt;

&lt;h2 id=&quot;7積分値を計算する&quot;&gt;7.積分値を計算する&lt;/h2&gt;
&lt;p&gt;標準正規分布の積分計算はライブラリや近似計算など簡単に計算できる方法が多くあるのでそれを使いましょう。&lt;br /&gt;
というかそれを使うために標準化したんですから。
実際に計算すると、だいたい18%弱です。200以上のダメージを引く確率はだいたい82%ということですね。&lt;/p&gt;

&lt;h1 id=&quot;備考&quot;&gt;備考&lt;/h1&gt;
&lt;p&gt;wikiを見て、いろんな条件やら正規表現の一部だとか複雑だけど、出したいダメージが最小と最大の間に含まれているなら何も考えずに積分すればいいんだと気づいた。&lt;br /&gt;
出したいダメージが最大より高ければ確率は0、最小より低ければ確率は1、という簡単で直感的な条件を入れるだけでよかった。&lt;br /&gt;
なんか間違ってたらごめんなさい。&lt;/p&gt;</content><author><name></name></author><summary type="html">ブレイド計算機にギルガシワンパンの確率を実装したので、計算方法とか考え方を忘れないうちに書いておきます。 前提知識として、正規分布、標準化がわかってればよくわかると思いますが、知らなくてもなんとなくわかるんじゃないですか（適当）。 本文中の正規分布のグラフはkeisanサイト様の物を利用させてもらってます。</summary></entry><entry><title type="html">ランチャの馬上突進追加突進距離の効果の謎</title><link href="/mabinogi/2018/07/10/lancha_distance_while_mounted.html" rel="alternate" type="text/html" title="ランチャの馬上突進追加突進距離の効果の謎" /><published>2018-07-10T00:00:00+09:00</published><updated>2018-07-10T00:00:00+09:00</updated><id>/mabinogi/2018/07/10/lancha_distance_while_mounted</id><content type="html" xml:base="/mabinogi/2018/07/10/lancha_distance_while_mounted.html">&lt;p&gt;注意：以下、全部推測です。&lt;/p&gt;

&lt;h1 id=&quot;結論&quot;&gt;結論&lt;/h1&gt;
&lt;p&gt;少なくとも日本のwikiの当該情報(80+20/Lv)は正しくない。&lt;br /&gt;
一旦は&lt;code class=&quot;highlighter-rouge&quot;&gt;40/Lv&lt;/code&gt;で見て良さそう（所感）で、80だかはランス補正なのではなかろうか。&lt;br /&gt;
(追記)突進距離自体は40も伸びないかもだけどダメージには乗る・・・？増加距離は未検証。&lt;/p&gt;

&lt;h1 id=&quot;経緯&quot;&gt;経緯&lt;/h1&gt;
&lt;p&gt;足の細工を回してたら馬上突進追加突進距離15レベルがついた。
日本のwikiのランチャ細工情報は正しくないんじゃね？となんとなく思っていたので検証してみた。
そしたら80+20*15の距離を追加した計算と実際のダメージに明らかな乖離があったよ。
結局正しい情報はさっぱりわからんけど、調べた情報をのっけます。&lt;/p&gt;

&lt;h1 id=&quot;検証条件&quot;&gt;検証条件&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;人間&lt;/li&gt;
  &lt;li&gt;デモラン（カルテル突破するのピア9、赤6）
    &lt;ul&gt;
      &lt;li&gt;ランチャ系の細工はついていない&lt;/li&gt;
      &lt;li&gt;ランスによって距離が変わるらしい。確かにデモランはウッドピシスランスより30前後射程が広かった。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;馬上突進追加突進距離15の足装備を付け外し&lt;/li&gt;
  &lt;li&gt;雲に騎乗してランチャ
    &lt;ul&gt;
      &lt;li&gt;じわじわ歩いて、射程内(Shift+Ctrlでランチャ発動する範囲)まで前進し、ランチャ発動&lt;/li&gt;
      &lt;li&gt;射程外からターゲットクリックでランチャ発動だと、射程ギリギリからの発動にならなさそう&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;攻撃相手は挑発（初級）の壁
    &lt;ul&gt;
      &lt;li&gt;突進距離細工をつけると突進距離が直径を超えるので、壁を壊して検証&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ダメージは20回くらい測って最大引いてるっぽい値を採用
    &lt;ul&gt;
      &lt;li&gt;ランチャは突進距離でダメージが変わるからか、全く同じダメージ値は出ず微妙にズレる&lt;/li&gt;
      &lt;li&gt;ダメージ値を何回か見れば最大引いたなってのはわかるので、その中でも一番高い数値を採用&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ランチャは3段（基本倍率295%）&lt;/li&gt;
  &lt;li&gt;バフ系やコンボカード等はOFF&lt;/li&gt;
  &lt;li&gt;細工効果(80+20/Lv)の謎の80は細工がついてなくても突進距離に加算されてるとする
    &lt;ul&gt;
      &lt;li&gt;そっちの方が細工なし時のダメージが実測と計算でほぼ一致する&lt;/li&gt;
      &lt;li&gt;細工ありの時だけ80オフセットありとかいう謎仕様にするか？という疑問もある&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;検証結果&quot;&gt;検証結果&lt;/h1&gt;
&lt;p&gt;ノンクリのダメージだけ載せます。別にクリダメ見ても意味ないので。&lt;/p&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;最大ダメ&lt;/td&gt;
      &lt;td&gt;馬上距離&lt;/td&gt;
      &lt;td&gt;実測ダメ&lt;/td&gt;
      &lt;td&gt;計算ダメ&lt;/td&gt;
      &lt;td&gt;実測/計算 比&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;細工なし&lt;/td&gt;
      &lt;td&gt;881&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;7898&lt;/td&gt;
      &lt;td&gt;7735&lt;/td&gt;
      &lt;td&gt;102.11%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;細工あり&lt;/td&gt;
      &lt;td&gt;893&lt;/td&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;9786&lt;/td&gt;
      &lt;td&gt;8798&lt;/td&gt;
      &lt;td&gt;111.34%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;(参考)80加算なし&lt;/td&gt;
      &lt;td&gt;881&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;7898&lt;/td&gt;
      &lt;td&gt;7485&lt;/td&gt;
      &lt;td&gt;105.52%&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;というように、全然違いますよね。
細工ありの場合、計算値より実測値の方が結構高くなりました。&lt;/p&gt;

&lt;h1 id=&quot;考察&quot;&gt;考察&lt;/h1&gt;
&lt;h2 id=&quot;説1追加突進距離は20lvより大きい&quot;&gt;説1.追加突進距離は20/Lvより大きい&lt;/h2&gt;
&lt;p&gt;ほぼ確実でしょう。&lt;br /&gt;
20じゃなくて40で計算すると、実測ダメに結構近くなる&lt;code class=&quot;highlighter-rouge&quot;&gt;(1400+80+40/Lv)&lt;/code&gt;。&lt;br /&gt;
実測ダメが&lt;code class=&quot;highlighter-rouge&quot;&gt;9786&lt;/code&gt;に対し計算ダメが&lt;code class=&quot;highlighter-rouge&quot;&gt;9737&lt;/code&gt;。ほぼ一致。
細工を 15レベル以外のもので検証して見ればわかりそう。検証する上で3種類くらいは欲しいっすね。。。
当該箇所のスクショをページ下部に載せるけど、&lt;a href=&quot;https://cafe.naver.com/mabinogidsg/book2087729/37595&quot;&gt;韓国wiki？&lt;/a&gt;によると、細工効果は&lt;code class=&quot;highlighter-rouge&quot;&gt;24/Lv&lt;/code&gt;。違う項目を見ていなければ。&lt;br /&gt;
&lt;a href=&quot;https://wiki.mabinogiworld.com/view/Reforge&quot;&gt;北米wiki&lt;/a&gt;によると、&lt;code class=&quot;highlighter-rouge&quot;&gt;30/Lv&lt;/code&gt;。こっちの方が実測ダメに近く値。&lt;br /&gt;
両者とも謎の80オフセットは書かれていない。ランチャスキルの方にも、騎乗時の最大距離は1400とある。&lt;/p&gt;

&lt;h2 id=&quot;説2謎のオフセット80は細工ありの時にだけ存在する&quot;&gt;説2.謎のオフセット80は細工ありの時にだけ存在する&lt;/h2&gt;
&lt;p&gt;細工なしでも80加えた方が計算と実測が一致するというのは、ランスによって距離が微妙に変わるという噂が真で、なおかつデモランの距離補正で80ある場合に成り立つ。&lt;br /&gt;
その場合、細工あり時の突進距離は&lt;code class=&quot;highlighter-rouge&quot;&gt;(1400+80+80+20/Lv)&lt;/code&gt;となり、これで計算したダメージは&lt;code class=&quot;highlighter-rouge&quot;&gt;9042&lt;/code&gt;と実測ダメに近くがまだ遠い。
なので、この説が真だとしても、&lt;code class=&quot;highlighter-rouge&quot;&gt;20/Lv&lt;/code&gt;は間違っていそう。&lt;/p&gt;

&lt;h2 id=&quot;説3日本韓国北米マビで細工効果が違う&quot;&gt;説3.日本、韓国、北米マビで細工効果が違う&lt;/h2&gt;
&lt;p&gt;まさかね。ないと思う。まさかね。
いずれにせよ、日本マビにおける日本wikiの効果は正しくない。&lt;/p&gt;

&lt;h1 id=&quot;推測&quot;&gt;推測&lt;/h1&gt;
&lt;p&gt;以上を踏まえると、ランチャの突進距離はこんな感じなんじゃないかなー。
&lt;code class=&quot;highlighter-rouge&quot;&gt;1400+ランス補正(80とか)+40/Lv&lt;/code&gt;
韓国wikiとも北米wikiとも全然違う値になってしまった。。。
そしてデモランの突進距離補正値は130くらいなんじゃないかなー。&lt;/p&gt;

&lt;h1 id=&quot;参考とかソース&quot;&gt;参考とかソース&lt;/h1&gt;

&lt;h2 id=&quot;日本のwikiのスクショ&quot;&gt;日本のwikiのスクショ&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/images/lancha_reforging_jp.png&quot; alt=&quot;ランチャ細工スクショJP&quot; /&gt;&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;https://mabinogi.wikiwiki.jp/装備/細工&lt;/code&gt;より。&lt;br /&gt;
この効果量は2013年頃の韓国情報がソースっぽい。具体的に韓国情報が何かは知らん。&lt;br /&gt;
韓国マビでは細工の効果量がエンチャント同様に見えるらしく、韓国情報とやらに&lt;code class=&quot;highlighter-rouge&quot;&gt;100+Lv*20-20&lt;/code&gt;と書かれていたから、日本のwikiには&lt;code class=&quot;highlighter-rouge&quot;&gt;80+20/Lv&lt;/code&gt;と書かれているのだろう。（日本のwikiの近接系細工のコメント参照）&lt;br /&gt;
実際にクライアントで&lt;code class=&quot;highlighter-rouge&quot;&gt;100+lv*20-20&lt;/code&gt;と表示されてたのかは知らん。&lt;br /&gt;
そして現在の韓国wikiっぽい奴を見ると全然違うんですよね。。。&lt;/p&gt;

&lt;h2 id=&quot;韓国のwikiみたいなやつのスクショ&quot;&gt;韓国のwikiみたいなやつのスクショ&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/images/lancha_reforging_kr.png&quot; alt=&quot;ランチャ細工スクショKR&quot; /&gt;&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;https://cafe.naver.com/mabinogidsg/book2087729/37595&lt;/code&gt;より。
足の細工ページで、先頭4文字はランスチャージ。カッコ内も単位はメートルって書いてありそうだし馬上距離でしょう。
これによると、&lt;code class=&quot;highlighter-rouge&quot;&gt;24/Lv&lt;/code&gt;ですね。&lt;/p&gt;

&lt;h2 id=&quot;北米のwikiのスクショ&quot;&gt;北米のwikiのスクショ&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/images/lancha_reforging_na.png&quot; alt=&quot;ランチャ細工スクショNA&quot; /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;https://wiki.mabinogiworld.com/view/Reforge&lt;/code&gt;より。&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;.3 distance per level&lt;/code&gt;とあり、恐らく単位はメートル。なので&lt;code class=&quot;highlighter-rouge&quot;&gt;30/lv&lt;/code&gt;なのでしょう。&lt;br /&gt;
細工がつく部位に&lt;code class=&quot;highlighter-rouge&quot;&gt;Lances, Shoes&lt;/code&gt;と、ランスもなぜか入っているが気にしないでいいよね。つくの？&lt;/p&gt;</content><author><name></name></author><summary type="html">注意：以下、全部推測です。</summary></entry><entry><title type="html">作って見た</title><link href="/mabinogi/2018/06/25/welcome-to-ghpage.html" rel="alternate" type="text/html" title="作って見た" /><published>2018-06-25T12:17:44+09:00</published><updated>2018-06-25T12:17:44+09:00</updated><id>/mabinogi/2018/06/25/welcome-to-ghpage</id><content type="html" xml:base="/mabinogi/2018/06/25/welcome-to-ghpage.html">&lt;p&gt;作って見たよー&lt;/p&gt;</content><author><name></name></author><summary type="html">作って見たよー</summary></entry></feed>